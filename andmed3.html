<!doctype html>
<html>
	<head>
		<title>Andmete talletus objektis</title>
		<script>
			function Laohaldus(kihinimi, kogus){
				this.algus=function(){
					this.kiht=document.getElementById(kihinimi);
					this.kogus=kogus;
					window[kihinimi+"_ladu"]=this;
					this.kiht.innerHTML=
					"<input type='button' value='&lt;' "+
					"onClick='"+kihinimi+"_ladu.v2iksemaks();'/> "+
					"<input type='text' id='"+kihinimi+"_vastus' "+
					"style='width: 50px' disabled />"+
					"<input type='button' value='&gt;' "+
				 	" onClick='"+kihinimi+"_ladu.suuremaks();' /><br/><br/> "+
				 	"<select id='" +kihinimi+ "_muudetavArv' onChange='"+kihinimi+"_ladu.muudetavArv();'/> "+
				 	"<option value='1'>1</option>"+
				 	"<option value='2'>2</option>"+
				 	"<option value='3'>3</option>"+
				 	"<option value='4'>4</option>"+
				 	"<option value='5'>5</option>"+
				 	"<option value='6'>6</option>"+
				 	"<option value='7'>7</option>"+
				 	"<option value='8'>8</option>"+
				 	"<option value='9'>9</option>"+
				 	"<option value='10'>10</option>"+
				 	"</select>"+
				 	"<input type='button' value='Nulli laoseis' onClick='"+kihinimi+"_ladu.tuhjenda();'/><br/><br/>";
					this.vastusekiht=document.getElementById(kihinimi+"_vastus");
					this.muudetavKiht=document.getElementById(kihinimi+"_muudetavArv");
					this.kuva();
				}
				this.kuva=function(){
					this.vastusekiht.value=this.kogus;
				}
				this.v2iksemaks=function(){
					this.kogus--;
					this.kuva();
				}
				this.suuremaks=function(){
					this.kogus++;
					this.kuva();
				}
				this.muudetavArv=function(){
					this.kogus=this.kogus+parseInt(this.muudetavKiht.value);
					this.kuva();
				}
				this.tuhjenda=function(){
					this.kogus=0;
					this.kuva();
				}
				this.algus();
			}

			function lehealgus(){
				new Laohaldus("kiht1", 100);
				new Laohaldus("kiht2", 50);
			}
		</script>
 	</head>
	<body onload="lehealgus();">
		<h1>Arvutamine</h1>
		<div id="kiht1"></div>
		<div id="kiht2"></div>
	</body>
</html>
